#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ›¡ï¸  Running Pre-Push Security & Test Checks..."

echo "Analyzing bundle and types..."
npm run typecheck
if [ $? -ne 0 ]; then
  echo "ğŸš¨ Push rejected due to failing type checks."
  exit 1
fi

echo "Running security scan..."
npm run security-check
if [ $? -ne 0 ]; then
  echo "ğŸš¨ Push rejected due to failing security scan."
  exit 1
fi

echo "âœ… Pre-push verification passed."
